package com.example;

import com.example.Player;
import com.example.Team;
import com.example.TeamType;

rule "Compare Teams"
when
    $yourTeam : Team(teamType == TeamType.YOUR_TEAM, $yourTeamName : name)
    $yourAverageRating : Double() from accumulate(
        Player(team == $yourTeam, $rating : (pace + shooting + dribbling + passing + defending + physical) / 6),
        average($rating)
    )

    $opponentTeam : Team(teamType == TeamType.OPPONENT_TEAM, $opponentTeamName : name)
    $opponentAverageRating : Double() from accumulate(
        Player(team == $opponentTeam, $rating : (pace + shooting + dribbling + passing + defending + physical) / 6),
        average($rating)
    )

    eval($yourAverageRating > $opponentAverageRating + 3)
then
    System.out.println("Your team (" + $yourTeamName + ") is better than the opponent team (" + $opponentTeamName + ") by more than 3 points with an average rating difference of " + ($yourAverageRating - $opponentAverageRating));
end
